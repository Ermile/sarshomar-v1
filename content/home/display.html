{%extends display.main%}

{%block content%}
<div class="row chart-box">
    <div class="container">
        <div class="row auto">
            <div class="span4 logotype">
                <img src="{{url.static}}images/logo.svg" class="logo">
                <h1>{%trans "Sarshomar"%}</h1>
                <h2>نگرشی نو به نظرسنجی</h2>
            </div>
            <div class="span8">
                <h3>{{result['random_result']['title']|trim('\"')}}</h3>
                <div class="top-chart chart"></div>
            </div>
        </div>
    </div>
</div>

<div class="row map-box">
    <div class="container">
        <div class="row">
            {% if site.currentlang == "en" %}
            <object id="worldSvgObject" type="image/svg+xml" data="/static/images/world.svg"></object>
            {% else %}
            <div class="span5">
                <object type="image/svg+xml" data="/static/images/ir-all.svg"></object>
            </div>
            <div class="span7">
                <h4>{{result['malefemale']['title']|trim('\"')}}</h4>
                <div class="random-chart chart"></div>
            </div>
            {% endif %}
        </div>
    </div>
</div>

<div class="row customers-box">
    <div class="container">
        <div class="row auto right">
            <div class="span5">
                <img src="{{url.static}}images/customers/1.jpg">
            </div>
            <div class="span7 content">
                <h3>
                    <a href="#">شرکت های تجاری</a>
                </h3>
                <p>این متن صرفا برای تست این قسمت از سایت بوده و هیج ارزش دیگری ندارد. داده های آماری و غیره به گونه ای ساده و شکل یافته نمودار می گویند.</p>
                <p>از نمودارها برای ساده کردن و ملموس کردن موضوعات گوناگون استفاده می شود. داده های آماری و غیره به گونه ای ساده و شکل یافته نمودار می گویند.</p>
            </div>
        </div>

        <div class="row auto left">
            <div class="span4 content">
                <h3>
                    <a href="#">موسسات تحقیقاتی آموزشی</a>
                </h3>
                <p>این متن صرفا برای تست این قسمت از سایت بوده و هیج ارزش دیگری ندارد. داده های آماری و غیره به گونه ای ساده و شکل یافته نمودار می گویند.</p>
                <p>از نمودارها برای ساده کردن و ملموس کردن موضوعات گوناگون استفاده می شود. داده های آماری و غیره به گونه ای ساده و شکل یافته نمودار می گویند.</p>
            </div>
            <div class="span8">
                <img src="{{url.static}}images/customers/2.jpg">
            </div>
        </div>

        <div class="row auto right">
            <div class="span5">
                <img src="{{url.static}}images/customers/3.jpg">
            </div>
            <div class="span7 content">
                <h3>
                    <a href="#">شرکت های تجاری</a>
                </h3>
                <p>این متن صرفا برای تست این قسمت از سایت بوده و هیج ارزش دیگری ندارد. داده های آماری و غیره به گونه ای ساده و شکل یافته نمودار می گویند.</p>
                <p>از نمودارها برای ساده کردن و ملموس کردن موضوعات گوناگون استفاده می شود. داده های آماری و غیره به گونه ای ساده و شکل یافته نمودار می گویند.</p>
            </div>
        </div>

        <div class="row auto left">
            <div class="span8 content">
                <h3>
                    <a href="#">کانون های تبلیغاتی</a>
                </h3>
                <p>این متن صرفا برای تست این قسمت از سایت بوده و هیج ارزش دیگری ندارد. داده های آماری و غیره به گونه ای ساده و شکل یافته نمودار می گویند.</p>
                <p>از نمودارها برای ساده کردن و ملموس کردن موضوعات گوناگون استفاده می شود. داده های آماری و غیره به گونه ای ساده و شکل یافته نمودار می گویند.</p>
            </div>
            <div class="span4">
                <img src="{{url.static}}images/customers/4.jpg">
            </div>
        </div>

        <div class="row auto right">
            <div class="span7">
                <img src="{{url.static}}images/customers/5.jpg">
            </div>
            <div class="span5 content">
                <h3>
                    <a href="#">توسعه دهنده ها و صاحبان وب سایت</a>
                </h3>
                <p>این متن صرفا برای تست این قسمت از سایت بوده و هیج ارزش دیگری ندارد. داده های آماری و غیره به گونه ای ساده و شکل یافته نمودار می گویند.</p>
                <p>از نمودارها برای ساده کردن و ملموس کردن موضوعات گوناگون استفاده می شود. داده های آماری و غیره به گونه ای ساده و شکل یافته نمودار می گویند.</p>
            </div>
        </div>

        <div class="row auto left">
            <div class="span6 content">
                <h3>
                    <a href="#">عموم مردم</a>
                </h3>
                <p>این متن صرفا برای تست این قسمت از سایت بوده و هیج ارزش دیگری ندارد. داده های آماری و غیره به گونه ای ساده و شکل یافته نمودار می گویند.</p>
                <p>از نمودارها برای ساده کردن و ملموس کردن موضوعات گوناگون استفاده می شود. داده های آماری و غیره به گونه ای ساده و شکل یافته نمودار می گویند.</p>
            </div>
            <div class="span6">
                <img src="{{url.static}}images/customers/6.jpg">
            </div>
        </div>
    </div>
</div>

<div class="features-box">
    <div class="row container">
        <div class="span2"></div>
        <div class="span8">
            <div class="tab current" data-tab="1">
                <div class="circle security"></div>
                <div class="title">تضمین امنیت</div>
            </div>
            <div class="tab" data-tab="2">
                <div class="circle precision"></div>
                <div class="title">حسابرسی دقیق</div>
            </div>
            <div class="tab" data-tab="3">
                <div class="circle variety"></div>
                <div class="title">انواع نمودارها</div>
            </div>
            <div class="content">
                <p class="current">تضمین امنیت</p>

                <p>حسابرسی دقیق</p>

                <p>انواع نمودارها</p>
            </div>
        </div>
    </div>
</div>

<div class="row" id='trust'>
    <div class="container">
        <img src="{{url.static}}images/tick.svg">
        <p class="text">{% trans "Our answer sheets are absolutely correct, and we can measure the accuracy of answers" %}</p>
    </div>
</div>
{%endblock%}

{%block foot_js%}
<script src="https://code.highcharts.com/modules/drilldown.js"></script>
<script type="text/javascript">
var topChartOptions = {
    chart: {
        type: 'column',
        backgroundColor: 'rgba(255, 255, 255, 0)',
        // width: null,
        verticalAlign: 'center',
        // events: {
        //     load: function() {
        //         var check = $('.top-chart').highcharts();
        //         check.yAxis[0].setExtremes(null, check.axes[1].dataMax);
        //     }
        // }
    },
    exporting: {
        enabled: false
    },
    credits: {
        enabled: false
    },
    title: {
        text: ""
    },
    xAxis: {
        labels: {
            enabled: false
        },
        categories: {{result['random_result']['categories']|raw}},
        // lineWidth: 0,
        // minorGridLineWidth: 0,
        // lineColor: 'transparent',
        // labels: {
        //     enabled: false
        // },
        // minorTickLength: 0,
        // tickLength: 0
    },
    yAxis: {
        min: 0,
        title: {
            text: 'درصد',
            enabled: false
        },
        labels: {
            enabled: false
        },
        gridLineWidth: 0,
        minorGridLineWidth: 0,
    },
    legend: {
        enabled: false
    },
    tooltip: {
        headerFormat: '<span style="font-size:10px">{point.key}</span><table>',
        pointFormat: '<tr><td style="color:{series.color};padding:0">{series.name}: </td>' + '<td style="padding:0"><b>{point.y:.1f} %</b></td></tr>',
        footerFormat: '</table>',
        shared: false,
        useHTML: true
    },
    plotOptions: {
        column: {
            pointPadding: 0.2,
            borderWidth: 0
        },
        // series: {
        //     dataLabels: {
        //         enabled: true
        //     }
        // }
    },
    series: {{result['random_result']['data']|raw}}
};

var randomChartOptions = {
    chart: {
        type: 'column',
        backgroundColor: 'rgba(255, 255, 255, 0)'
    },
    credits: {
        enabled: false
    },
    title: {
        text: ""
    },
    xAxis: {
        type: 'category',
        labels: {
            enabled: true
        }
    },
    yAxis: {
        title: {
            enabled: false
        },
        labels: {
            enabled: false
        },
        gridLineWidth: 0,
        minorGridLineWidth: 0
    },
    legend: {
        enabled: false
    },
    plotOptions: {
        series: {
            borderWidth: 0,
            dataLabels: {
                enabled: true,
                format: '{point.y:.1f}%'
            }
        }
    },

    tooltip: {
        // headerFormat: '<span style="font-size:11px">{series.name}</span><br>',
        headerFormat: '',
        pointFormat: '<span style="color:{point.color}">{point.name}</span>: <b>{point.y:.2f}%</b> of total<br/>'
    },

    series: [{
        name: 'جنسیت',
        colorByPoint: true,
        data: {{result['malefemale']['data']|raw}}
    }],
    drilldown: {
        series: {{result['malefemale']['series']|raw}}
    }
};

$(function() {
    $('.top-chart').highcharts(topChartOptions);
    $('.random-chart').highcharts(randomChartOptions);

    var hoverOrClick = function() {
        var tab_id = $(this).attr('data-tab');

        $('.features-box .tab').removeClass('current');
        $('.features-box .content p').removeClass('current');

        $(this).addClass('current');
        $('.features-box .content p').eq(tab_id - 1).addClass('current');
    };

    $('.features-box .tab').click(hoverOrClick).hover(hoverOrClick);
});
</script>
{% endblock %}
